# Release Notes - v0.1.1

**Release Date:** TBD
**Type:** Minor Release

## Overview

Version 0.1.1 focuses on post-deployment stabilization and introduces industry-standard architecture improvements to enhance the content editing experience.

## New Features

### ðŸš€ Auto-Save Functionality
- Content automatically saves every 2 seconds while editing
- Visual indicator shows save status in real-time
- No more manual saving required - work is preserved automatically

### ðŸš€ Draft/Publish System
- Edit content safely without affecting your live site
- Preview draft changes before publishing
- One-click publish when you're ready to go live
- Accurate unpublished changes indicator - only shows when content actually changes

### ðŸš€ Instant Preview
- Preview your changes instantly without saving
- Seamless switching between builder and preview modes
- What you see in the builder is exactly what you get in preview

## Bug Fixes

### Page Management
- âœ… Fixed page deletion not refreshing the page list
- âœ… Fixed homepage toggle functionality - you can now set any page as homepage
- âœ… Fixed page preview showing incorrect content

### Preview Mode
- âœ… Fixed theme not applying in preview mode
- âœ… Fixed responsive design detection - preview now correctly shows desktop/tablet/mobile views
- âœ… Fixed content loss when navigating to preview

### Data Persistence
- âœ… Fixed save functionality to properly persist content changes
- âœ… Fixed cache synchronization issues between builder and preview

## Improvements

### Performance
- Optimized data flow for faster editing experience
- Reduced unnecessary API calls
- Improved preview loading times

### User Experience
- Added homepage toggle directly on page cards for easier access
- Improved error messages for better troubleshooting
- Enhanced save status feedback

## Technical Updates

### Architecture
- Implemented single source of truth pattern with Zustand
- Removed dual-state management complexity
- Simplified cache invalidation logic

### Code Quality
- Maintained 0 TypeScript errors
- Maintained 0 ESLint errors
- Improved test coverage for critical paths

## Security Enhancements

### ðŸ” Reserved Subdomain Protection System
- Implemented comprehensive validation for project slugs and subdomains
- Protects 300+ reserved patterns across 12 categories including platform infrastructure, authentication endpoints, and system resources
- Prevents unauthorized use of critical subdomains like 'app', 'api', 'admin', 'auth'
- Admin override capability for special cases with audit logging
- Real-time validation in project creation and domain management flows

### ðŸ” Database Security Hardening
- Fixed critical SQL injection vulnerabilities in 20+ database functions
- Added `SET search_path` to all SECURITY DEFINER functions
- Moved pg_net extension from public schema to dedicated 'extensions' schema
- Enabled Row Level Security (RLS) on security configuration tables
- Enhanced authentication security:
  - Reduced OTP expiry from >1 hour to 30 minutes
  - Enabled leaked password protection via HaveIBeenPwned.org
- Removed 8 orphaned functions from legacy migrations

## Known Issues

- Account/project switching requires manual page refresh
- Preview domains (subdomain.sites.wondrousdigital.com) showing 404
- Library usage counts not updating

These issues will be addressed in v0.1.2.

## Migration Notes

No action required. All changes are backward compatible.

---

For questions or issues, please contact support.